<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VaxFacts - Vaccine Awareness App</title>
  <style>
    /* ======= GENERAL STYLES ======= */
    :root {
      --bg: #0f1724;
      --card: #1e293b;
      --accent: #06b6d4;
      --muted: #94a3b8;
      --text: #e2e8f0;
      --radius: 12px;
      --shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Poppins", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    .container {
      max-width: 1100px;
      margin: auto;
      padding: 20px;
    }

    header {
      text-align: center;
      margin-bottom: 30px;
    }

    header h1 {
      font-size: 2rem;
      color: var(--accent);
    }

    header p {
      color: var(--muted);
    }

    /* ======= SEARCH BAR ======= */
    .search-bar {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 25px;
    }

    input[type="text"] {
      padding: 10px;
      border-radius: var(--radius);
      border: none;
      width: 250px;
    }

    button {
      background: var(--accent);
      border: none;
      padding: 10px 15px;
      border-radius: var(--radius);
      color: #000;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
    }

    button:hover {
      background: #0ea5e9;
    }

    /* ======= DISEASE CARDS ======= */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 15px;
    }

    .card {
      background: var(--card);
      padding: 15px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      transition: transform 0.2s ease-in-out;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .card h3 {
      color: var(--accent);
      margin-bottom: 5px;
    }

    .card p {
      color: var(--muted);
      font-size: 0.9rem;
    }

    /* ======= TABLE ======= */
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
      background: var(--card);
      border-radius: var(--radius);
      overflow: hidden;
    }

    th, td {
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: 10px;
      text-align: left;
    }

    th {
      color: var(--accent);
    }

    /* ======= QUIZ SECTION ======= */
    .quiz {
      margin-top: 30px;
      background: var(--card);
      padding: 15px;
      border-radius: var(--radius);
    }

    .quiz h2 {
      color: var(--accent);
    }

    .question {
      margin: 10px 0;
    }

    .option {
      background: rgba(255, 255, 255, 0.05);
      padding: 8px;
      border-radius: 8px;
      margin: 5px 0;
      cursor: pointer;
    }

    .option.selected {
      background: var(--accent);
      color: #000;
    }

    /* ======= FOOTER ======= */
    footer {
      margin-top: 40px;
      text-align: center;
      color: var(--muted);
      font-size: 0.9rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üíâ VaxFacts</h1>
      <p>Learn about vaccine-preventable diseases, view the vaccination schedule, and test your knowledge.</p>
    </header>

    <!-- Search -->
    <div class="search-bar">
      <input type="text" id="search" placeholder="Search disease (e.g., measles)" />
      <button onclick="filterDiseases()">Search</button>
      <button onclick="resetSearch()">Reset</button>
    </div>

    <!-- Disease Cards -->
    <div class="grid" id="diseaseList"></div>

    <!-- Vaccination Schedule -->
    <div class="card" style="margin-top: 30px;">
      <h2>üìÖ Sample Vaccination Schedule</h2>
      <table id="vaccineTable">
        <thead>
          <tr>
            <th>Vaccine</th>
            <th>Prevents</th>
            <th>Recommended Age</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <button onclick="downloadCSV()" style="margin-top: 10px;">Download Schedule (CSV)</button>
    </div>

    <!-- Quiz -->
    <div class="quiz" id="quizSection">
      <h2>üß† Quick Quiz</h2>
      <div id="quiz"></div>
      <button onclick="submitQuiz()">Submit Quiz</button>
      <p id="score"></p>
    </div>

    <footer>
      Built with ‚ù§Ô∏è to promote awareness about vaccine-preventable diseases.
    </footer>
  </div>

  <script>
    // ======= DISEASE DATA =======
    const diseases = [
      { name: "Measles", desc: "Highly contagious viral infection with fever and rash. Preventable by MMR vaccine." },
      { name: "Polio", desc: "Can cause paralysis. Preventable by Polio (OPV/IPV) vaccine." },
      { name: "Hepatitis B", desc: "Affects the liver. Preventable by HepB vaccine." },
      { name: "Diphtheria", desc: "Causes severe throat infection. Preventable by DTP vaccine." },
      { name: "Tetanus", desc: "Causes muscle stiffness and spasms. Preventable by DTP vaccine." },
      { name: "Tuberculosis", desc: "Affects lungs, preventable by BCG vaccine." },
    ];

    // ======= DISPLAY DISEASES =======
    const diseaseList = document.getElementById("diseaseList");
    function displayDiseases(list) {
      diseaseList.innerHTML = list.map(d => `
        <div class="card">
          <h3>${d.name}</h3>
          <p>${d.desc}</p>
        </div>
      `).join("");
    }
    displayDiseases(diseases);

    // ======= SEARCH FILTER =======
    function filterDiseases() {
      const query = document.getElementById("search").value.toLowerCase();
      const filtered = diseases.filter(d => d.name.toLowerCase().includes(query));
      displayDiseases(filtered);
    }

    function resetSearch() {
      document.getElementById("search").value = "";
      displayDiseases(diseases);
    }

    // ======= VACCINATION SCHEDULE =======
    const schedule = [
      { vaccine: "BCG", prevents: "Tuberculosis", age: "At birth" },
      { vaccine: "OPV", prevents: "Polio", age: "At birth, 6, 10, 14 weeks" },
      { vaccine: "DTP", prevents: "Diphtheria, Tetanus, Pertussis", age: "6, 10, 14 weeks" },
      { vaccine: "HepB", prevents: "Hepatitis B", age: "At birth, 6 weeks" },
      { vaccine: "MMR", prevents: "Measles, Mumps, Rubella", age: "9 months" },
    ];

    const tableBody = document.querySelector("#vaccineTable tbody");
    function renderSchedule() {
      tableBody.innerHTML = schedule.map(s => `
        <tr>
          <td>${s.vaccine}</td>
          <td>${s.prevents}</td>
          <td>${s.age}</td>
        </tr>
      `).join("");
    }
    renderSchedule();

    function downloadCSV() {
      const csvContent = "data:text/csv;charset=utf-8,"
        + ["Vaccine,Prevents,Recommended Age"]
        .concat(schedule.map(s => `${s.vaccine},${s.prevents},${s.age}`))
        .join("\\n");
      const link = document.createElement("a");
      link.setAttribute("href", encodeURI(csvContent));
      link.setAttribute("download", "vaccination_schedule.csv");
      link.click();
    }

    // ======= QUIZ DATA =======
    const quizData = [
      { q: "Which vaccine prevents Measles?", options: ["BCG", "MMR", "OPV"], answer: "MMR" },
      { q: "Polio affects which part of the body?", options: ["Lungs", "Nervous System", "Heart"], answer: "Nervous System" },
      { q: "Which vaccine prevents Tetanus?", options: ["DTP", "MMR", "HepB"], answer: "DTP" },
    ];

    const quizDiv = document.getElementById("quiz");
    let selectedAnswers = {};

    quizData.forEach((item, index) => {
      const qBlock = document.createElement("div");
      qBlock.classList.add("question");
      qBlock.innerHTML = `<p><b>${index + 1}. ${item.q}</b></p>`;
      
      item.options.forEach(opt => {
        const optDiv = document.createElement("div");
        optDiv.classList.add("option");
        optDiv.textContent = opt;
        optDiv.onclick = () => selectOption(index, optDiv, opt);
        qBlock.appendChild(optDiv);
      });

      quizDiv.appendChild(qBlock);
    });

    function selectOption(qIndex, element, option) {
      const options = element.parentElement.querySelectorAll(".option");
      options.forEach(opt => opt.classList.remove("selected"));
      element.classList.add("selected");
      selectedAnswers[qIndex] = option;
    }

    function submitQuiz() {
      let score = 0;
      quizData.forEach((q, i) => {
        if (selectedAnswers[i] === q.answer) score++;
      });
      document.getElementById("score").textContent = `You scored ${score} / ${quizData.length}`;
    }
  </script>
</body>
</html>
